<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="layout/mainLayout2 :: head"></head>
    <body>

        <header th:replace="layout/mainLayout2 :: header"></header>
        <div class="container-scroller">
            <div class="container-fluid page-body-wrapper">
                <div class="main-panel container">
                    <div class="content-wrapper">
                        <div class="row">
                            <div class="col-12 grid-margin">
                                
            <div class="card bg-light">
                <div class="card-header"> Reembosos </div>
                <div class="card-body">
                    <h4 class="card-title">
                        <button class="btn btn-light btn-xs" onclick="history.back()" >&laquo; volver</button>
                    </h4>

                    <form  id="form-refund" th:action="@{/refund}" th:object="${refund}" method="post">

<!--                        <input th:field="${ac.status}" type="hidden" class="form-control" />-->
                        <!--<input th:field="${ac.createDate}" type="hidden" class="form-control" />-->
                        
                        <div  th:if="${refund.id!=0}" class="form-group row">
                            <label for="id" class="col-sm-2 col-form-label" th:text="'ID'"></label>
                            <div class="col-sm-6">
                                <input th:field="${refund.id}" readonly="true" class="form-control" />
                            </div>
                        </div>
                        <div  th:if="${refund.id!=0}" class="form-group row">
                            <label for="id" class="col-sm-2 col-form-label" th:text="'Cliente'"></label>
                            <div class="col-sm-6">
                                <input th:value="${customer.name} + ' ' + ${customer.lastName}" readonly="true" class="form-control" />
                            </div>
                                <input th:value="${customer.id}" type="hidden" id="customerId" class="form-control" />
                        </div>
                        <div  th:if="${refund.id!=0}" class="form-group row">
                            <label th:for="customer" class="col-sm-2 col-form-label" th:text="'ID Factura'"></label>
                            <div class="col-sm-4">
                                <input th:field="${refund.invoiceId}" type="number"  oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
                                       class="form-control" />
                            </div>
                            <button id="find-invoice"  class="btn btn-primary">  Buscar Factura</button>
                        </div>
                        <div  th:if="${refund.id!=0}" class="form-group row">
                            <label for="items" class="col-sm-2 col-form-label" th:text="'ID Factura item'"></label>
                            <div class="col-sm-6">
                                <label th:for="items" class=" col-form-label" >item : </label>
                                <select  multiple class="form-control" th:field="*{items}" >
<!--                                    <option th:each="part : ${partsAtribute}"-->
<!--                                            th:field="*{items}"-->
<!--                                            th:value="${part.id}"-->
<!--                                            th:text="${part.id}">Part name</option>-->
                                </select>

                                <div class="col-sm-12 row">
                                    <select class="col-sm-6 form-control" id="itemQuantity">
<!--                                        <option th:each="part : ${partsAtribute}"-->
<!--                                                th:field="*{items}"-->
<!--                                                th:value="${part.id}"-->
<!--                                                th:text="${part.id}">Part name</option>-->
                                    </select>
                                    <button id="b-add"  class="col-sm-2  btn btn-facebook btn-xs " > <span class="glyphicon glyphicon-ok"></span> ADD</button>
                                </div>

                            </div>
                        </div>
                        <div class="container ">
                            <div class="row">

                                <label for="itemsRefund2" class="col-sm-2 col-form-label" th:text="'Items a Reembolsar'"></label>
                                <div class='col-sm-6'>
                                    <select  multiple class="form-control" id="itemsRefund2"  name="itemsRefund2" >
<!--                                        <option th:each="part : ${partsAtribute}"-->
<!--                                                th:field="*{items}"-->
<!--                                                th:value="${part.id}"-->
<!--                                                th:text="${part.id}">Part name</option>-->
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <button  class="btn btn-facebook " > <span class="glyphicon glyphicon-ok"></span> Someter</button>
                                <a href="#" class="btn btn-danger " th:onclick="'itemsHelper.inactiveItem();'"><span class="glyphicon glyphicon-remove"></span> Cancelar</a>
                            </div>
                        </div>
                        </form>
                        
                        <table id="itemsRefund"  class="table table-striped table-bordered dt-responsive nowrap ">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Cliente</th>
                                    <th>ID Factura</th>
                                    <th>Fecha creacion</th>
                                    <th>Fecha Modificacion</th>
<!--                                    <th>Total Deudas</th>-->
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="item: ${acs}">
                                    <td  th:text="${item.id}"></td>
                                    <td th:text="${item.totalPayment}"></td>
                                    <td th:text="${item.totalPayment}"></td>
                                    <td th:text="${item.getCreateDate()}"></td>
                                    <td th:text="${item.closedDate}"></td>
<!--                                    <td th:text="${item.totalOwed}"></td>-->
                                </tr>
                            </tbody>
                        </table>
                </div>
            </div>
        </div>
        </div>
        </div>
        </div>
        </div>
        </div>

        <footer th:replace="layout/mainLayout2 :: footer"></footer>
        <script src="../../static/js/app/refund.js" th:src="@{/js/app/refund.js}"></script>

        <script>

        </script>
    </body>

</html>
